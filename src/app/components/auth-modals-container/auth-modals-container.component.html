@if (isLoginModalOpened$ | async) {
  @defer (when isLoginModalOpened$ | async) {
    <app-modal-wrapper (onModalClose)="closeLoginModal()" [hasFooter]="true">
      <form body>
        <div>
          <label for="email">Email:</label>
          <input type="email" name="email" id="email" />
        </div>
        <div>
          <label for="email">Username:</label>
          <input type="text" name="username" id="username" />
        </div>
        <div>
          <label for="password">Password:</label>
          <input type="password" name="password" id="password" />
        </div>
        <div>
          <label for="passwordCopy"
            >{{ "signInModal.passwordCopy" | transloco }}:</label
          >
          <input type="password" name="passwordCopy" id="passwordCopy" />
        </div>
      </form>
    </app-modal-wrapper>
  }
}
<app-modal-wrapper [modalSize]="'sm'" (onModalClose)="closeLoginModal()">
  <ng-container body>
    <h1 style="text-align: center" class="m-0">
      {{ "signInModal.title" | transloco }}
    </h1>
    <p [innerHTML]="'signInModal.description' | transloco"></p>
    <form [formGroup]="signInForm">
      <section>
        <!-- EMAIL -->
        <div class="entryContainer">
          <div class="inputContainer">
            <label for="email">
              <i-feather name="mail" class="md-icon stroke-second" />
              Email
            </label>
            <input type="email" name="email" id="email" formControlName="email"/>
          </div>
          @if(signInForm.get('email')?.errors && 
              signInForm.get('email')?.touched && 
              signInForm.get('email')?.dirty){
            <ul class="errorContainer">
              <li class="errorMessage m-0">{{"signInModal.errors.email" | transloco}}</li>
            </ul>
          } 
        </div>
        <!-- USERNAME -->
        <div class="entryContainer">
          <div class="inputContainer">
            <label for="email">
              <i-feather name="user" class="md-icon stroke-second" />
              Username
            </label>
            <input type="text" name="username" id="username" formControlName="username"/>
          </div>
          @if(signInForm.get('username')?.errors && 
              signInForm.get('username')?.touched &&
              signInForm.get('username')?.dirty){
            <ul class="errorContainer">
              <li class="errorMessage m-0">{{"signInModal.errors.username" | transloco}}</li>
            </ul>
          } 
        </div>
        <!-- PASSWORD -->
        <div class="entryContainer">
          <div class="inputContainer">
            <label for="password">
              <i-feather name="key" class="md-icon stroke-second" />
              Password
            </label>
            <input type="password" name="password" id="password" formControlName="password"/>
          </div>
          @if(signInForm.get('password')?.errors && 
              signInForm.get('password')?.touched && 
              signInForm.get('password')?.dirty){
            <ul class="errorContainer">
              @if(!signInForm.get('password')?.errors?.["hasMinLength"]) {
                <li class="errorMessage m-0">
                  {{'signInModal.errors.password.hasMinLength' | transloco}}
                </li>
              }
              @if(!signInForm.get('password')?.errors?.["hasSpecialCharacters"]) {
                <li class="errorMessage m-0">
                  {{'signInModal.errors.password.hasSpecialCharacters' | transloco}}
                </li>
              }
              @if(!signInForm.get('password')?.errors?.["hasNumbers"]) {
                <li class="errorMessage m-0">
                  {{'signInModal.errors.password.hasNumbers' | transloco}}
                </li>
              }
              @if(!signInForm.get('password')?.errors?.["hasUpperCase"]) {
                <li class="errorMessage m-0">
                  {{'signInModal.errors.password.hasUpperCase' | transloco}}
                </li>
              }
              @if(!signInForm.get('password')?.errors?.["hasLowerCase"]) {
                <li class="errorMessage m-0">
                  {{'signInModal.errors.password.hasLowerCase' | transloco}}
                </li>
              }
            </ul>
          } 
        </div>
        <!-- PASSWORD COPY -->
        <div class="entryContainer">
          <div class="inputContainer">
            <label for="passwordCopy">
              <i-feather name="repeat" class="md-icon stroke-second" />
              {{ "signInModal.passwordCopy" | transloco }}
            </label>
            <!-- TODO: l'input non ottiene la class ng-invalid -->
            <input type="password" name="passwordCopy" id="passwordCopy" formControlName="passwordCopy"/>
          </div>
          @if(signInForm.get('passwordCopy')?.errors && 
              signInForm.get('passwordCopy')?.touched && 
              signInForm.get('passwordCopy')?.dirty){
            <ul class="errorContainer">
              <li class="errorMessage m-0">{{"signInModal.errors.passwordCopy" | transloco}}</li>
            </ul>
          }
        </div>
        <hr style="margin-bottom: 2rem" />
        <section class="flex-center-container buttons">
          <button class="button-primary animated" [disabled]="!signInForm.valid">
            {{ "signInModal.action" | transloco | uppercase }}
          </button>
        </section>
      </section>
    </form>
  </ng-container>
</app-modal-wrapper>
@if (isSigninModalOpened$ | async) {
  @defer (when isSigninModalOpened$ | async) {
    <app-modal-wrapper [modalSize]="'sm'" (onModalClose)="closeLoginModal()">
      <ng-container body>
        <h1 style="text-align: center" class="m-0">
          {{ "signInModal.title" | transloco }}
        </h1>
        <p [innerHTML]="'signInModal.description' | transloco"></p>
        <form>
          <section>
            <div>
              <label for="email">
                <i-feather name="mail" class="md-icon stroke-second" />
                Email:
              </label>
              <input type="email" name="email" id="email" />
            </div>
            <div>
              <label for="email">
                <i-feather name="user" class="md-icon stroke-second" />
                Username:
              </label>
              <input type="text" name="username" id="username" />
            </div>
            <div>
              <label for="password">
                <i-feather name="key" class="md-icon stroke-second" />
                Password:
              </label>
              <input type="password" name="password" id="password" />
            </div>
            <div>
              <label for="passwordCopy">
                <i-feather name="repeat" class="md-icon stroke-second" />
                {{ "signInModal.passwordCopy" | transloco }}:
              </label>
              <input type="password" name="passwordCopy" id="passwordCopy" />
            </div>
          </section>
          <hr style="margin-bottom: 2rem" />
          <section class="flex-center-container buttons">
            <button class="button-primary animated">
              {{ "signInModal.action" | transloco | uppercase }}
            </button>
          </section>
        </form>
      </ng-container>
    </app-modal-wrapper>
  }
}
